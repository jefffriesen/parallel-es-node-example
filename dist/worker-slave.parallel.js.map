{"version":3,"sources":["webpack:///webpack/bootstrap 7f4a74fc9a3109245e64","webpack:///./~/parallel-es/dist/worker-slave.parallel-es6.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","toIterator","toArray","data","Symbol","iterator","result","current","next","done","push","flattenArray","deepArray","length","head","tail","Array","concat","apply","concatInPlace","target","toAppend","insertionIndex","isSerializedFunctionCall","potentialFunc","______serializedFunctionCall","requestFunctionMessage","workerResultMessage","functionExecutionError","isScheduleTask","isInitializeMessage","isFunctionResponse","isStopMesssage","initializeWorkerMessage","id","type","workerId","scheduleTaskMessage","task","functionId","otherFunctionIds","functionIds","functionResponseMessage","functions","missingFunctionIds","missingFunctions","error","errorObject","prop","getOwnPropertyNames","JSON","stringify","stopMessage","message","isFunctionRequest","isWorkerResult","isFunctionExecutionError","__WEBPACK_IMPORTED_MODULE_0__common_worker_abstract_worker_slave__","BrowserWorkerSlave","constructor","functionCache","postMessage","terminate","close","__WEBPACK_IMPORTED_MODULE_0__util_simple_map__","SlaveFunctionLookupTable","cache","getFunction","identifier","registerFunction","definition","f","toFunction","set","registerStaticFunction","func","has","Error","args","argumentNames","join","wrapper","Function","undefined","body","registerStaticParallelFunctions","__WEBPACK_IMPORTED_MODULE_0__parallel_worker_functions__","__WEBPACK_IMPORTED_MODULE_1__util_identity__","__WEBPACK_IMPORTED_MODULE_2__filter_iterator__","__WEBPACK_IMPORTED_MODULE_3__map_iterator__","__WEBPACK_IMPORTED_MODULE_4__parallel_job_executor__","__WEBPACK_IMPORTED_MODULE_5__range_iterator__","__WEBPACK_IMPORTED_MODULE_6__reduce_iterator__","__WEBPACK_IMPORTED_MODULE_7__util_arrays__","lookupTable","IDENTITY","FILTER","MAP","PARALLEL_JOB_EXECUTOR","RANGE","REDUCE","TO_ITERATOR","__WEBPACK_IMPORTED_MODULE_0__browser_worker_slave__","__WEBPACK_IMPORTED_MODULE_1__common_function_slave_function_lookup_table__","__WEBPACK_IMPORTED_MODULE_2__common_parallel_slave_register_parallel_worker_functions__","slaveFunctionLookupTable","slave","onmessage","event","onMessage","__WEBPACK_IMPORTED_MODULE_0__serialized_function_call__","bind","fn","params","bound","additionalParams","FunctionCallDeserializer","functionLookupTable","deserializeFunctionCall","functionCall","deserializeParams","parameters","map","param","namespace","_______isFunctionId","isFunctionId","obj","filterIterator","predicate","env","mapIterator","iteratee","parallelJobExecutor","__WEBPACK_IMPORTED_MODULE_0__util_arrays__","__WEBPACK_IMPORTED_MODULE_1__function_serialized_function_call__","createTaskEnvironment","functionCallDeserializer","taskEnvironment","taskIndex","valuesPerTask","environment","environments","currentEnvironment","assign","generatorFunction","generator","operation","operations","iteratorFunction","__WEBPACK_IMPORTED_MODULE_0__function_function_id__","ParallelWorkerFunctionIds","TIMES","rangeIterator","start","end","step","distance","Math","max","floor","reduceIterator","defaultValue","accumulatedValue","identity","element","SimpleMap","key","internalKey","toInternalKey","clear","__WEBPACK_IMPORTED_MODULE_0__worker_messages__","__WEBPACK_IMPORTED_MODULE_1__worker_slave_states__","AbstractWorkerSlave","Number","NaN","state","changeState","enter","toString","__WEBPACK_IMPORTED_MODULE_0__function_function_call_deserializer__","__WEBPACK_IMPORTED_MODULE_1__worker_messages__","WorkerSlaveState","DefaultWorkerSlaveState","IdleWorkerSlaveState","usedFunctionIds","filter","ExecuteFunctionWorkerSlaveState","WaitingForFunctionDefinitionWorkerSlaveState","identifiers","functionDeserializer","main"],"mappings":"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","file":"worker-slave.parallel.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7f4a74fc9a3109245e64","/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = toIterator;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = toArray;\n/* unused harmony export flattenArray */\n/* unused harmony export concatInPlace */\n/**\r\n * Creates an iterator that iterates over the given array\r\n * @param data the array\r\n * @param T element type\r\n * @returns the iterator\r\n */\r\n/**\r\n * Creates an iterator that iterates over the given array\r\n * @param data the array\r\n * @param T element type\r\n * @returns the iterator\r\n */ function toIterator(data) {\r\n    return data[Symbol.iterator]();\r\n}\r\n/**\r\n * Converts the given iterator to an array\r\n * @param iterator the iterator that is to be converted into an array\r\n * @param T element type\r\n * @returns {T[]} the array representation of the given iterator\r\n */\r\nfunction toArray(iterator) {\r\n    const result = [];\r\n    let current;\r\n    /* tslint:disable:no-conditional-assignment */\r\n    while (!(current = iterator.next()).done) {\r\n        result.push(current.value);\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Flattens the given array.\r\n * @param deepArray the array to flatten\r\n * @param type of the array elements\r\n * @returns returns an array containing all the values contained in the sub arrays of deep array.\r\n */\r\nfunction flattenArray(deepArray) {\r\n    if (deepArray.length === 0) {\r\n        return [];\r\n    }\r\n    const [head, ...tail] = deepArray;\r\n    return Array.prototype.concat.apply(head, tail);\r\n}\r\n/**\r\n * Appends the toAppend array to the target array. The result is stored in the target array (therefore, in place)\r\n * @param target the first element to concat and as well as the target of the concatenation operation\r\n * @param toAppend the array to append to target\r\n */\r\nfunction concatInPlace(target, toAppend) {\r\n    const insertionIndex = target.length;\r\n    target.length += toAppend.length;\r\n    for (let i = 0; i < toAppend.length; ++i) {\r\n        target[insertionIndex + i] = toAppend[i];\r\n    }\r\n    return target;\r\n}\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = isSerializedFunctionCall;\n/**\r\n * @module parallel\r\n */\r\n/** */\r\n/**\r\n * Tests if the given object is a serialized function call\r\n * @param potentialFunc a potentially serialized function call\r\n * @returns {boolean} true if it is a serialized function call, false otherwise\r\n */\r\nfunction isSerializedFunctionCall(potentialFunc) {\r\n    return !!potentialFunc && potentialFunc.______serializedFunctionCall === true;\r\n}\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export initializeWorkerMessage */\n/* unused harmony export scheduleTaskMessage */\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = requestFunctionMessage;\n/* unused harmony export functionResponseMessage */\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = workerResultMessage;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = functionExecutionError;\n/* unused harmony export stopMessage */\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = isScheduleTask;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = isInitializeMessage;\n/* unused harmony export isFunctionRequest */\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = isFunctionResponse;\n/* unused harmony export isWorkerResult */\n/* unused harmony export isFunctionExecutionError */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = isStopMesssage;\n/**\r\n * Creates an initialize worker message\r\n * @param id the unique id of the worker\r\n * @returns the initialize worker message\r\n */\r\nfunction initializeWorkerMessage(id) {\r\n    return { type: 0 /* InitializeWorker */, workerId: id };\r\n}\r\n/**\r\n * Creates a message to schedule the given task on a worker slave\r\n * @param task the task to schedule\r\n * @returns the schedule message\r\n */\r\nfunction scheduleTaskMessage(task) {\r\n    return { task, type: 1 /* ScheduleTask */ };\r\n}\r\n/**\r\n * Creates an {@link IFunctionRequest} message that requests the given function ids from the worker thread\r\n * @param functionId the id of a function to request\r\n * @param otherFunctionIds additional ids to request from the worker slave\r\n * @returns the function request message\r\n */\r\nfunction requestFunctionMessage(functionId, ...otherFunctionIds) {\r\n    return { functionIds: [functionId, ...otherFunctionIds], type: 2 /* FunctionRequest */ };\r\n}\r\n/**\r\n * Creates a function response message containing the passed function definitions\r\n * @param functions the function definitions to respond to the worker slave\r\n * @returns the function response message\r\n */\r\nfunction functionResponseMessage(functions, ...missingFunctionIds) {\r\n    return { functions, missingFunctions: missingFunctionIds, type: 3 /* FunctionResponse */ };\r\n}\r\n/**\r\n * Creates a worker result message for the given result\r\n * @param result the computed result for the scheduled task\r\n * @returns the message\r\n */\r\nfunction workerResultMessage(result) {\r\n    return { result, type: 4 /* WorkerResult */ };\r\n}\r\n/**\r\n * Creates a function execution error message containing the given error\r\n * @param error the error object thrown by the task computation\r\n * @returns the message\r\n */\r\nfunction functionExecutionError(error) {\r\n    const errorObject = {};\r\n    for (const prop of Object.getOwnPropertyNames(error)) {\r\n        errorObject[prop] = JSON.stringify(error[prop]);\r\n    }\r\n    return { error: errorObject, type: 5 /* FunctionExecutionError */ };\r\n}\r\n/**\r\n * Creates a stop message\r\n * @returns the message\r\n */\r\nfunction stopMessage() {\r\n    return { type: 6 /* Stop */ };\r\n}\r\n/**\r\n * Tests if the given message is an {@link IScheduleTaskMessage} message\r\n * @param message the message to test\r\n * @returns {boolean} {@code true} if the message is an {@link IScheduleTaskMessage}\r\n */\r\nfunction isScheduleTask(message) {\r\n    return message.type === 1 /* ScheduleTask */;\r\n}\r\n/**\r\n * Tests if the given message is an {@link IInitializeWorkerMessage} message\r\n * @param message the message to test\r\n * @returns {boolean} {@code true} if the message is an {@link IInitializeWorkerMessage}\r\n */\r\nfunction isInitializeMessage(message) {\r\n    return message.type === 0 /* InitializeWorker */;\r\n}\r\n/**\r\n * Tests if the given message is an {@link IFunctionRequest} message\r\n * @param message the message to test\r\n * @returns {boolean} {@code true} if the message is an {@link IFunctionRequest}\r\n */\r\nfunction isFunctionRequest(message) {\r\n    return message.type === 2 /* FunctionRequest */;\r\n}\r\n/**\r\n * Tests if the given message is an {@link IFunctionResponse} message\r\n * @param message the message to test\r\n * @returns {boolean} {@code true} if the message is an {@link IFunctionResponse}\r\n */\r\nfunction isFunctionResponse(message) {\r\n    return message.type === 3 /* FunctionResponse */;\r\n}\r\n/**\r\n * Tests if the given message is an {@link IWorkerResultMessage} message\r\n * @param message the message to test\r\n * @returns {boolean} {@code true} if the message is an {@link IWorkerResultMessage}\r\n */\r\nfunction isWorkerResult(message) {\r\n    return message.type === 4 /* WorkerResult */;\r\n}\r\n/**\r\n * Tests if the given message is an {@link IFunctionExecutionError} message\r\n * @param message the message to test\r\n * @returns {boolean} {@code true} if the message is an {@link IFunctionExecutionError}\r\n */\r\nfunction isFunctionExecutionError(message) {\r\n    return message.type === 5 /* FunctionExecutionError */;\r\n}\r\n/**\r\n * Tests if the given message is a stop message\r\n * @param message the message to test\r\n * @returns {boolean} {@code true} if the message is a stop message\r\n */\r\nfunction isStopMesssage(message) {\r\n    return message.type === 6 /* Stop */;\r\n}\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_worker_abstract_worker_slave__ = __webpack_require__(17);\n\r\n/**\r\n * Worker thread endpoint executed in the web worker thread.\r\n * Executes the tasks assigned by the thread pool via the {@link BrowserWorkerThread}.\r\n */\r\nclass BrowserWorkerSlave extends __WEBPACK_IMPORTED_MODULE_0__common_worker_abstract_worker_slave__[\"a\" /* AbstractWorkerSlave */] {\r\n    constructor(functionCache) {\r\n        super(functionCache);\r\n        this.functionCache = functionCache;\r\n    }\r\n    postMessage(message) {\r\n        postMessage(message);\r\n    }\r\n    terminate() {\r\n        close();\r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = BrowserWorkerSlave;\n\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_simple_map__ = __webpack_require__(16);\n\r\n/**\r\n * Cache used by each worker slave to cache the received functions.\r\n * Caching the functions has the advantage that function only is serialized, transmitted and deserialized once. This also\r\n * has the advantage, that the function instance stays the same and therefore can be optimized by the runtime system.\r\n */\r\nclass SlaveFunctionLookupTable {\r\n    constructor() {\r\n        this.cache = new __WEBPACK_IMPORTED_MODULE_0__util_simple_map__[\"a\" /* SimpleMap */]();\r\n    }\r\n    /**\r\n     * Resolves the function with the given id\r\n     * @param id the id of the function to resolve\r\n     * @returns the resolved function or undefined if not known\r\n     */\r\n    getFunction(id) {\r\n        return this.cache.get(id.identifier);\r\n    }\r\n    /**\r\n     * Registers a new function in the cache\r\n     * @param definition the definition of the function to register\r\n     * @returns the registered function\r\n     */\r\n    registerFunction(definition) {\r\n        const f = this.toFunction(definition);\r\n        this.cache.set(definition.id.identifier, f);\r\n        return f;\r\n    }\r\n    registerStaticFunction(id, func) {\r\n        if (this.has(id)) {\r\n            throw new Error(`The given function id '${id.identifier}' is already used by another function registration, the id needs to be unique.`);\r\n        }\r\n        this.cache.set(id.identifier, func);\r\n    }\r\n    /**\r\n     * Tests if the cache contains a function with the given id\r\n     * @param id the id of the function to test for existence\r\n     * @returns true if the cache contains a function with the given id\r\n     */\r\n    has(id) {\r\n        return this.cache.has(id.identifier);\r\n    }\r\n    toFunction(definition) {\r\n        if (definition.name) {\r\n            const args = definition.argumentNames.join(\", \");\r\n            const wrapper = Function.apply(undefined, [`return function ${definition.name} (${args}) { ${definition.body} }; `]);\r\n            return wrapper();\r\n        }\r\n        return Function.apply(undefined, [...definition.argumentNames, definition.body]);\r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = SlaveFunctionLookupTable;\n\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = registerStaticParallelFunctions;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__parallel_worker_functions__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_identity__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__filter_iterator__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__map_iterator__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__parallel_job_executor__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__range_iterator__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__reduce_iterator__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__util_arrays__ = __webpack_require__(0);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Registers the static parallel functions\r\n * @param lookupTable the table into which the function should be registered\r\n */\r\nfunction registerStaticParallelFunctions(lookupTable) {\r\n    lookupTable.registerStaticFunction(__WEBPACK_IMPORTED_MODULE_0__parallel_worker_functions__[\"a\" /* ParallelWorkerFunctionIds */].IDENTITY, __WEBPACK_IMPORTED_MODULE_1__util_identity__[\"a\" /* identity */]);\r\n    lookupTable.registerStaticFunction(__WEBPACK_IMPORTED_MODULE_0__parallel_worker_functions__[\"a\" /* ParallelWorkerFunctionIds */].FILTER, __WEBPACK_IMPORTED_MODULE_2__filter_iterator__[\"a\" /* filterIterator */]);\r\n    lookupTable.registerStaticFunction(__WEBPACK_IMPORTED_MODULE_0__parallel_worker_functions__[\"a\" /* ParallelWorkerFunctionIds */].MAP, __WEBPACK_IMPORTED_MODULE_3__map_iterator__[\"a\" /* mapIterator */]);\r\n    lookupTable.registerStaticFunction(__WEBPACK_IMPORTED_MODULE_0__parallel_worker_functions__[\"a\" /* ParallelWorkerFunctionIds */].PARALLEL_JOB_EXECUTOR, __WEBPACK_IMPORTED_MODULE_4__parallel_job_executor__[\"a\" /* parallelJobExecutor */]);\r\n    lookupTable.registerStaticFunction(__WEBPACK_IMPORTED_MODULE_0__parallel_worker_functions__[\"a\" /* ParallelWorkerFunctionIds */].RANGE, __WEBPACK_IMPORTED_MODULE_5__range_iterator__[\"a\" /* rangeIterator */]);\r\n    lookupTable.registerStaticFunction(__WEBPACK_IMPORTED_MODULE_0__parallel_worker_functions__[\"a\" /* ParallelWorkerFunctionIds */].REDUCE, __WEBPACK_IMPORTED_MODULE_6__reduce_iterator__[\"a\" /* reduceIterator */]);\r\n    lookupTable.registerStaticFunction(__WEBPACK_IMPORTED_MODULE_0__parallel_worker_functions__[\"a\" /* ParallelWorkerFunctionIds */].TO_ITERATOR, __WEBPACK_IMPORTED_MODULE_7__util_arrays__[\"a\" /* toIterator */]);\r\n}\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__browser_worker_slave__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_function_slave_function_lookup_table__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_parallel_slave_register_parallel_worker_functions__ = __webpack_require__(5);\n\r\n\r\n\r\nconst slaveFunctionLookupTable = new __WEBPACK_IMPORTED_MODULE_1__common_function_slave_function_lookup_table__[\"a\" /* SlaveFunctionLookupTable */]();\r\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common_parallel_slave_register_parallel_worker_functions__[\"a\" /* registerStaticParallelFunctions */])(slaveFunctionLookupTable);\r\n/** @preserve WORKER_SLAVE_STATIC_FUNCTIONS_PLACEHOLDER */\r\nconst slave = new __WEBPACK_IMPORTED_MODULE_0__browser_worker_slave__[\"a\" /* BrowserWorkerSlave */](slaveFunctionLookupTable);\r\nonmessage = function (event) {\r\n    slave.onMessage(event.data);\r\n};\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__serialized_function_call__ = __webpack_require__(1);\n\r\n/**\r\n * Binds the function to undefined and the given params. Uses Function.bind if available or creates its own wrapper\r\n * if not.\r\n * @param fn the function to bind to the given parameters\r\n * @param params the parameters to which the function is partially bound\r\n * @returns a partially bound function\r\n */\r\nfunction bind(fn, params) {\r\n    if (typeof (fn.bind) === \"function\") {\r\n        return fn.bind(undefined, ...params);\r\n    }\r\n    return function bound(...additionalParams) {\r\n        return fn.apply(undefined, params.concat(additionalParams));\r\n    };\r\n}\r\n/**\r\n * Deserializer for a {@link ISerializedFunctionCall}.\r\n */\r\nclass FunctionCallDeserializer {\r\n    /**\r\n     * Creates a new deserializer that uses the given function lookup table to retrieve the function for a given id\r\n     * @param functionLookupTable the lookup table to use\r\n     */\r\n    constructor(functionLookupTable) {\r\n        this.functionLookupTable = functionLookupTable;\r\n    }\r\n    /**\r\n     * Deserializes the function call into a function\r\n     * @param functionCall the function call to deserialize\r\n     * @param deserializeParams indicator if the parameters passed to the serialized function should be deserailized too\r\n     * @returns a function that can be called with additional parameters (the params from the serialized function calls are prepended to the passed parameters)\r\n     */\r\n    deserializeFunctionCall(functionCall, deserializeParams = false) {\r\n        const func = this.functionLookupTable.getFunction(functionCall.functionId);\r\n        if (!func) {\r\n            throw new Error(`The function with the id ${functionCall.functionId.identifier} could not be retrieved while deserializing the function call. Is the function correctly registered?`);\r\n        }\r\n        let params = functionCall.parameters || [];\r\n        if (deserializeParams) {\r\n            params = params.map(param => {\r\n                if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__serialized_function_call__[\"a\" /* isSerializedFunctionCall */])(param)) {\r\n                    return this.deserializeFunctionCall(param);\r\n                }\r\n                return param;\r\n            });\r\n        }\r\n        return bind(func, params);\r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = FunctionCallDeserializer;\n\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = functionId;\n/* unused harmony export isFunctionId */\n/**\r\n * @module parallel\r\n */\r\n/** */\r\n/**\r\n * Creates a function id\r\n * @param namespace the namespace of the id\r\n * @param id the unique id for this namespace\r\n * @returns the function id\r\n */\r\nfunction functionId(namespace, id) {\r\n    return {\r\n        _______isFunctionId: true,\r\n        identifier: `${namespace}-${id}`\r\n    };\r\n}\r\n/**\r\n * Tests if the given object is a function id\r\n * @param obj the object to test for\r\n * @returns true if the object is  a function id\r\n */\r\nfunction isFunctionId(obj) {\r\n    return !!obj && obj._______isFunctionId === true;\r\n}\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = filterIterator;\n/**\r\n * Returns a new iterator that only contains all elements for which the given predicate returns true\r\n * @param iterator the iterator to filter\r\n * @param predicate the predicate to use for filtering the elements\r\n * @param env the environment of the job\r\n * @param T type of the elements to filter\r\n * @returns an iterator only containing the elements where the predicate is true\r\n */\r\nfunction filterIterator(iterator, predicate, env) {\r\n    return {\r\n        next() {\r\n            let current;\r\n            /* tslint:disable:no-conditional-assignment */\r\n            while (!(current = iterator.next()).done) {\r\n                if (predicate(current.value, env)) {\r\n                    return current;\r\n                }\r\n            }\r\n            return current;\r\n        }\r\n    };\r\n}\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = mapIterator;\n/**\r\n * Performs the map operation\r\n * @param iterator the iterator of the previous step\r\n * @param iteratee the iteratee to apply to each element in the iterator\r\n * @param env the environment of the job\r\n * @param T the type of the input elements\r\n * @param TResult the type of the returned element of the iteratee\r\n * @returns a new iterator where each element has been mapped using the iteratee\r\n */\r\nfunction mapIterator(iterator, iteratee, env) {\r\n    return {\r\n        next() {\r\n            const result = iterator.next();\r\n            if (result.done) {\r\n                return { done: true };\r\n            }\r\n            return {\r\n                done: result.done,\r\n                value: iteratee(result.value, env)\r\n            };\r\n        }\r\n    };\r\n}\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = parallelJobExecutor;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_arrays__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__function_serialized_function_call__ = __webpack_require__(1);\n\r\n\r\nfunction createTaskEnvironment(definition, functionCallDeserializer) {\r\n    let taskEnvironment = { taskIndex: definition.taskIndex, valuesPerTask: definition.valuesPerTask };\r\n    for (const environment of definition.environments) {\r\n        let currentEnvironment;\r\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__function_serialized_function_call__[\"a\" /* isSerializedFunctionCall */])(environment)) {\r\n            currentEnvironment = functionCallDeserializer.deserializeFunctionCall(environment)(taskEnvironment);\r\n        }\r\n        else {\r\n            currentEnvironment = environment;\r\n        }\r\n        taskEnvironment = Object.assign(taskEnvironment, currentEnvironment);\r\n    }\r\n    return taskEnvironment;\r\n}\r\n/**\r\n * Main coordination function for any operation performed using {@link IParallel}.\r\n * @param definition the definition of the operation to performed\r\n * @param options options passed from the thread pool\r\n * @param T type of the elements created by the generator\r\n * @param TResult type of the resulting elements\r\n * @returns the result of the operation from this worker\r\n */\r\nfunction parallelJobExecutor(definition, { functionCallDeserializer }) {\r\n    const environment = createTaskEnvironment(definition, functionCallDeserializer);\r\n    const generatorFunction = functionCallDeserializer.deserializeFunctionCall(definition.generator, true);\r\n    let iterator = generatorFunction(environment);\r\n    for (const operation of definition.operations) {\r\n        const iteratorFunction = functionCallDeserializer.deserializeFunctionCall(operation.iterator);\r\n        const iteratee = functionCallDeserializer.deserializeFunctionCall(operation.iteratee);\r\n        iterator = iteratorFunction(iterator, iteratee, environment);\r\n    }\r\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_arrays__[\"b\" /* toArray */])(iterator);\r\n}\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__function_function_id__ = __webpack_require__(8);\n\r\nconst ParallelWorkerFunctionIds = {\r\n    FILTER: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__function_function_id__[\"a\" /* functionId */])(\"parallel\", 0),\r\n    IDENTITY: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__function_function_id__[\"a\" /* functionId */])(\"parallel\", 1),\r\n    MAP: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__function_function_id__[\"a\" /* functionId */])(\"parallel\", 2),\r\n    PARALLEL_JOB_EXECUTOR: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__function_function_id__[\"a\" /* functionId */])(\"parallel\", 3),\r\n    RANGE: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__function_function_id__[\"a\" /* functionId */])(\"parallel\", 4),\r\n    REDUCE: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__function_function_id__[\"a\" /* functionId */])(\"parallel\", 5),\r\n    TIMES: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__function_function_id__[\"a\" /* functionId */])(\"parallel\", 6),\r\n    TO_ITERATOR: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__function_function_id__[\"a\" /* functionId */])(\"parallel\", 7)\r\n};\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ParallelWorkerFunctionIds;\n\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = rangeIterator;\n/**\r\n * Generator function that creates an iterator containing all elements in the range [start, end) with a step size of step.\r\n * @param start start value of the range (inclusive)\r\n * @param end end value of the range (exclusive)\r\n * @param step step size between two values\r\n * @returns iterator with the values [start, end)\r\n */\r\n/**\r\n * Generator function that creates an iterator containing all elements in the range [start, end) with a step size of step.\r\n * @param start start value of the range (inclusive)\r\n * @param end end value of the range (exclusive)\r\n * @param step step size between two values\r\n * @returns iterator with the values [start, end)\r\n */ function rangeIterator(start, end, step) {\r\n    const distance = end - start;\r\n    let length = Math.max(Math.floor(distance / (step || 1)), 0);\r\n    let next = start;\r\n    return {\r\n        next() {\r\n            const current = next;\r\n            next = next + step;\r\n            if (length-- !== 0) {\r\n                return { done: false, value: current };\r\n            }\r\n            return { done: true };\r\n        }\r\n    };\r\n}\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = reduceIterator;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_arrays__ = __webpack_require__(0);\n\r\n/**\r\n * Reduces the elements of the given iterator to a single value by applying the given iteratee to each element\r\n * @param defaultValue a default value that is as accumulator or for the case that the iterator is empty\r\n * @param iterator the iterator with the values to reduce\r\n * @param iteratee iteratee that is applied for each element. The iteratee is passed the accumulated value (sum of all previous values)\r\n * and the current element and has to return a new accumulated value.\r\n * @param env the environment of the job\r\n * @param T type of the elements to process\r\n * @param TResult type of the reduced value\r\n * @returns an array with a single value, the reduced value\r\n */\r\nfunction reduceIterator(defaultValue, iterator, iteratee, env) {\r\n    let accumulatedValue = defaultValue;\r\n    let current;\r\n    /* tslint:disable:no-conditional-assignment */\r\n    while (!(current = iterator.next()).done) {\r\n        accumulatedValue = iteratee(accumulatedValue, current.value, env);\r\n    }\r\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util_arrays__[\"a\" /* toIterator */])([accumulatedValue]);\r\n}\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = identity;\n/**\r\n * identity function. Returns the passed in value\r\n * @param element the value to return\r\n * @param T type of the element\r\n */\r\n/**\r\n * identity function. Returns the passed in value\r\n * @param element the value to return\r\n * @param T type of the element\r\n */ function identity(element) {\r\n    return element;\r\n}\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * A very simple implementation of a map. Do not use with complex objects as Key.\r\n * @param K type of the key\r\n * @param V type of the value\r\n */\r\n/**\r\n * A very simple implementation of a map. Do not use with complex objects as Key.\r\n * @param K type of the key\r\n * @param V type of the value\r\n */ class SimpleMap {\r\n    constructor() {\r\n        this.data = {};\r\n    }\r\n    /**\r\n     * Gets the value for the given key if available\r\n     * @param key the key to look up\r\n     * @returns the looked up value or undefined if the map does not contain any value associated with the given key\r\n     */\r\n    get(key) {\r\n        const internalKey = this.toInternalKey(key);\r\n        return this.has(key) ? this.data[internalKey] : undefined;\r\n    }\r\n    /**\r\n     * Tests if the map contains value stored by the given key\r\n     * @param key the key\r\n     * @returns true if the map contains a value by the given key, false otherwise\r\n     */\r\n    has(key) {\r\n        return this.hasOwnProperty.call(this.data, this.toInternalKey(key));\r\n    }\r\n    /**\r\n     * Sets the value for the given key. If the map already contains a value stored by the given key, then this value is\r\n     * overridden\r\n     * @param key the key\r\n     * @param value the value to associate with the given key\r\n     */\r\n    set(key, value) {\r\n        this.data[this.toInternalKey(key)] = value;\r\n    }\r\n    /**\r\n     * Clears all values from the map\r\n     */\r\n    clear() {\r\n        this.data = {};\r\n    }\r\n    toInternalKey(key) {\r\n        return `@${key}`;\r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = SimpleMap;\n\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__worker_messages__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__worker_slave_states__ = __webpack_require__(18);\n\r\n\r\n/**\r\n * Abstract Worker thread endpoint.\r\n * Executes the tasks assigned by the thread pool via the {@link DefaultWorkerThread}.\r\n */\r\nclass AbstractWorkerSlave {\r\n    constructor(functionCache) {\r\n        this.functionCache = functionCache;\r\n        /**\r\n         * The unique id of the slave instance\r\n         */\r\n        this.id = Number.NaN;\r\n        this.state = new __WEBPACK_IMPORTED_MODULE_1__worker_slave_states__[\"a\" /* DefaultWorkerSlaveState */](this);\r\n    }\r\n    /**\r\n     * Changes the state of the slave to the new state\r\n     * @param state the new state to assign\r\n     */\r\n    changeState(state) {\r\n        this.state = state;\r\n        this.state.enter();\r\n    }\r\n    /**\r\n     * Executed when the slave receives a message from the ui-thread\r\n     * @param message the received message\r\n     */\r\n    onMessage(message) {\r\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__worker_messages__[\"a\" /* isStopMesssage */])(message)) {\r\n            this.terminate();\r\n        }\r\n        else if (!this.state.onMessage(message)) {\r\n            throw new Error(`Message with type ${message.type} cannot be handled by ${this}`);\r\n        }\r\n    }\r\n    toString() {\r\n        return `Slave { id: ${this.id}, state: '${this.state.name}' }`;\r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = AbstractWorkerSlave;\n\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__function_function_call_deserializer__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__worker_messages__ = __webpack_require__(2);\n\r\n\r\n/**\r\n * State of the worker slave.\r\n */\r\nclass WorkerSlaveState {\r\n    constructor(name, slave) {\r\n        this.name = name;\r\n        this.slave = slave;\r\n    }\r\n    /**\r\n     * Executed when the slave changes its state to this state.\r\n     */\r\n    enter() {\r\n        // intentionally empty\r\n    }\r\n    /**\r\n     * Executed whenever the slave receives a message from the ui-thread while being in this state\r\n     * @param message the received message\r\n     * @returns {boolean} true if the state has handled the message, false otherwise\r\n     */\r\n    onMessage(message) { return false; }\r\n}\n/* unused harmony export WorkerSlaveState */\n\r\n/**\r\n * Initial state of a slave. The slave is waiting for the initialization message.\r\n */\r\nclass DefaultWorkerSlaveState extends WorkerSlaveState {\r\n    constructor(slave) {\r\n        super(\"Default\", slave);\r\n    }\r\n    onMessage(message) {\r\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__worker_messages__[\"b\" /* isInitializeMessage */])(message)) {\r\n            this.slave.id = message.workerId;\r\n            this.slave.changeState(new IdleWorkerSlaveState(this.slave));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = DefaultWorkerSlaveState;\n\r\n/**\r\n * The slave is waiting for work from the ui-thread.\r\n */\r\nclass IdleWorkerSlaveState extends WorkerSlaveState {\r\n    constructor(slave) {\r\n        super(\"Idle\", slave);\r\n    }\r\n    onMessage(message) {\r\n        if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__worker_messages__[\"c\" /* isScheduleTask */])(message)) {\r\n            return false;\r\n        }\r\n        const task = message.task;\r\n        const missingFunctions = task.usedFunctionIds.filter(id => !this.slave.functionCache.has(id));\r\n        if (missingFunctions.length === 0) {\r\n            this.slave.changeState(new ExecuteFunctionWorkerSlaveState(this.slave, task));\r\n        }\r\n        else {\r\n            const [head, ...tail] = missingFunctions;\r\n            this.slave.postMessage(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__worker_messages__[\"d\" /* requestFunctionMessage */])(head, ...tail));\r\n            this.slave.changeState(new WaitingForFunctionDefinitionWorkerSlaveState(this.slave, task));\r\n        }\r\n        return true;\r\n    }\r\n}\n/* unused harmony export IdleWorkerSlaveState */\n\r\n/**\r\n * The slave is waiting for the definition of the requested function that is needed to execute the assigned task.\r\n */\r\nclass WaitingForFunctionDefinitionWorkerSlaveState extends WorkerSlaveState {\r\n    constructor(slave, task) {\r\n        super(\"WaitingForFunctionDefinition\", slave);\r\n        this.task = task;\r\n    }\r\n    onMessage(message) {\r\n        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__worker_messages__[\"e\" /* isFunctionResponse */])(message)) {\r\n            if (message.missingFunctions.length > 0) {\r\n                const identifiers = message.missingFunctions.map(functionId => functionId.identifier).join(\", \");\r\n                this.slave.postMessage(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__worker_messages__[\"f\" /* functionExecutionError */])(new Error(`The function ids [${identifiers}] could not be resolved by slave ${this.slave.id}.`)));\r\n                this.slave.changeState(new IdleWorkerSlaveState(this.slave));\r\n            }\r\n            else {\r\n                for (const definition of message.functions) {\r\n                    this.slave.functionCache.registerFunction(definition);\r\n                }\r\n                this.slave.changeState(new ExecuteFunctionWorkerSlaveState(this.slave, this.task));\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\n/* unused harmony export WaitingForFunctionDefinitionWorkerSlaveState */\n\r\n/**\r\n * The slave is executing the function\r\n */\r\nclass ExecuteFunctionWorkerSlaveState extends WorkerSlaveState {\r\n    constructor(slave, task) {\r\n        super(\"Executing\", slave);\r\n        this.task = task;\r\n    }\r\n    enter() {\r\n        const functionDeserializer = new __WEBPACK_IMPORTED_MODULE_0__function_function_call_deserializer__[\"a\" /* FunctionCallDeserializer */](this.slave.functionCache);\r\n        try {\r\n            const main = functionDeserializer.deserializeFunctionCall(this.task.main);\r\n            const result = main({ functionCallDeserializer: functionDeserializer });\r\n            this.slave.postMessage(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__worker_messages__[\"g\" /* workerResultMessage */])(result));\r\n        }\r\n        catch (error) {\r\n            this.slave.postMessage(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__worker_messages__[\"f\" /* functionExecutionError */])(error));\r\n        }\r\n        this.slave.changeState(new IdleWorkerSlaveState(this.slave));\r\n    }\r\n}\n/* unused harmony export ExecuteFunctionWorkerSlaveState */\n\r\n\n\n/***/ })\n/******/ ]);\n//# sourceMappingURL=worker-slave.parallel-es6.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/parallel-es/dist/worker-slave.parallel-es6.js"],"sourceRoot":""}